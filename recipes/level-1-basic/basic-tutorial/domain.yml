version: "3.1"

session_config:
  session_expiration_time: 60
  carry_over_slots_to_new_session: true

slots:
  recipient:
    type: text
    mappings:
      - type: from_llm

  amount:
    type: text
    mappings:
      - type: from_llm

  final_confirmation:
    type: bool
    mappings:
      - type: from_llm

  has_sufficient_funds:
    type: bool
    mappings:
      - type: controlled

responses:
  utter_ask_recipient:
    - text: "Who would you like to send money to?"

  utter_ask_amount:
    - text: "How much would you like to send?"

  utter_ask_final_confirmation:
    - text: "Please confirm: you want to transfer ${amount} to {recipient}?"

  utter_transfer_complete:
    - text: "All done. ${amount} has been sent to {recipient}."

  utter_transfer_cancelled:
    - text: "Your transfer has been cancelled."

  utter_insufficient_funds:
    - text: "You do not have enough funds to make this transaction."

  utter_ask_continue:
    - text: "Is there anything else I can help you with?"

actions:
  - action_check_sufficient_funds